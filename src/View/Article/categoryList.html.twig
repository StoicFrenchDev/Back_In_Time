{% extends 'layout.html.twig' %}
{% block content %}
<div class="my-5">
    <h1 class="text-center">Liste Catégories</h1>
    <h2 class="text-center">Page de gestion du contenu de Back In Time</h2>
</div>
<div class="container">
    <div class="m-5 d-flex justify-content-center">
        <a href="/category/add">
            <button class="btn btn-management">Créer une categorie</button>
        </a>

    </div>
    <div class="text-center bg-danger">
        <p>{{ error }}</p>
    </div>
</div>
<div class="table-responsive-md m-3 mb-5">
    <table class="table table-striped table-bordered border-dark">
        <thead class="table-dark">
            <tr>
                <th scope="col">Nom catégorie</th>
                <th scope="col">Nombre d'articles</th>
                <th scope="col">Modifier catégorie</th>
                <th scope="col">Supprimer catégorie</th>
            </tr>
        </thead>
        <tbody>
            {% for category in categoriesWithNumberOfArticle %}
            <tr>
                <td><a href="/category/show?id={{category.id}}">{{ category.name }}</a></td>
                <td>
                    <h4>{{ category.number_article }}</h4>
                </td>
                <td><a href="/category/edit?id={{category.id}}">
                        <button class="btn btn-management">Modifier</button>
                    </a></td>
                <td>
                    <form action="/category/delete" method="POST">
                        <input type="hidden" name="id" value="{{ category.id }}">
                        <button class="btn btn-danger">Supprimer</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
{% block footer %}
{% include "component/_footer.html.twig" %}
{% endblock %}